#DPATCHLEVEL=1

2005-01-10  Guillem Jover  <guillem@hadrons.org>

	* linux/dev/include/linux/skbuff.h (skb_put, skb_push): Fix errors
	for deprecated use of labels at end of compound statements.
	* i386/i386/fpe_linkage.c (enable_fpe): Declare.


diff -Naur gnumach-20040229.orig/linux/dev/include/linux/skbuff.h gnumach-20040229/linux/dev/include/linux/skbuff.h
--- gnumach-20040229.orig/linux/dev/include/linux/skbuff.h	26 Apr 1999 05:48:00 -0000	1.1
+++ gnumach-20040229/linux/dev/include/linux/skbuff.h	15 Sep 2004 12:52:34 -0000
@@ -407,6 +407,7 @@
 		__label__ here;
 		panic("skput:over: %p:%d", &&here,len);
 here:
+		;
 	}
 	return tmp;
 }
@@ -420,6 +421,7 @@
 		__label__ here;
 		panic("skpush:under: %p:%d", &&here,len);
 here:
+		;
 	}
 	return skb->data;
 }
diff -Naur gnumach-20040229.orig/i386/i386/fpe_linkage.c gnumach-20040229/i386/i386/fpe_linkage.c
--- gnumach-20040229.orig/i386/i386/fpe_linkage.c	2004-09-15 16:10:15.000000000 +0200
+++ gnumach-20040229/i386/i386/fpe_linkage.c	2004-09-15 16:09:23.000000000 +0200
@@ -84,6 +84,7 @@
 	((struct real_gate *)&curr_idt(mycpu)[idx])
 
 void	set_user_access();	/* forward */
+void	enable_fpe(register struct i386_fpsave_state *ifps);
 
 /*
  * long pointer for calling FPE register recovery routine.
